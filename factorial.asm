DS SEGMENT PARA PUBLIC 'DATA'
DS ENDS

CSEG	SEGMENT  PARA PUBLIC 'CODE'
ASSUME	CS:CSEG, DS:DSEG, SS:SSEG

FACT PROC NEAR
	PUSH BP
	MOV  BP,SP
	MOV  AX,SS:[BP+6]
	MOV  DX,SS:[BP+4]
	
	CMP  AX,1H
	
	JLE  RES
	
	PUSH AX
	DEC  AX
	PUSH AX
	PUSH DX
	CALL FACT
	ADD  SP,2
	POP  DX
	POP  CX
	MUL  CX ; AX := AX * CX
	
RES:
	MOV  SS:[BP+4], AX
	POP  BP
	RET
FACT ENDP

MAIN:
	MOV	 AX,DSEG
	MOV	 DS,AX
	
	MOV  AX,5H
	MOV  DX,0H
	PUSH AX
	PUSH DX
	
	CALL FACT
	POP  DX
	POP  AX
	ADD  SP,2
	
	MOV	 AH,4CH
	INT	 21H

CSEG    ENDS


SSEG	SEGMENT STACK
	DW	64 DUP(0)
SSEG	ENDS
	END MAIN